"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/costs/analysis";
exports.ids = ["pages/api/costs/analysis"];
exports.modules = {

/***/ "@azure/arm-costmanagement":
/*!********************************************!*\
  !*** external "@azure/arm-costmanagement" ***!
  \********************************************/
/***/ ((module) => {

module.exports = require("@azure/arm-costmanagement");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "@azure/identity":
/*!**********************************!*\
  !*** external "@azure/identity" ***!
  \**********************************/
/***/ ((module) => {

module.exports = import("@azure/identity");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcosts%2Fanalysis&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Ccosts%5Canalysis.js&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcosts%2Fanalysis&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Ccosts%5Canalysis.js&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_costs_analysis_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\costs\\analysis.js */ \"(api)/./pages/api/costs/analysis.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_costs_analysis_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_costs_analysis_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_costs_analysis_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_costs_analysis_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/costs/analysis\",\n        pathname: \"/api/costs/analysis\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_costs_analysis_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmNvc3RzJTJGYW5hbHlzaXMmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q2Nvc3RzJTVDYW5hbHlzaXMuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDNkQ7QUFDN0Q7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHlEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyx5REFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9henVyZS1haS1pbmZyYS1hc3Npc3RhbnQvPzBhMDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxjb3N0c1xcXFxhbmFseXNpcy5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2Nvc3RzL2FuYWx5c2lzXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvY29zdHMvYW5hbHlzaXNcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcosts%2Fanalysis&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Ccosts%5Canalysis.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/costs/analysis.js":
/*!*************************************!*\
  !*** ./pages/api/costs/analysis.js ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _azure_identity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @azure/identity */ \"@azure/identity\");\n/* harmony import */ var _azure_arm_costmanagement__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @azure/arm-costmanagement */ \"@azure/arm-costmanagement\");\n/* harmony import */ var _azure_arm_costmanagement__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_azure_arm_costmanagement__WEBPACK_IMPORTED_MODULE_1__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_azure_identity__WEBPACK_IMPORTED_MODULE_0__]);\n_azure_identity__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nasync function handler(req, res) {\n    if (req.method !== \"GET\") {\n        return res.status(405).json({\n            message: \"Method not allowed\"\n        });\n    }\n    try {\n        const credential = new _azure_identity__WEBPACK_IMPORTED_MODULE_0__.DefaultAzureCredential();\n        const client = new _azure_arm_costmanagement__WEBPACK_IMPORTED_MODULE_1__.CostManagementClient(credential, process.env.AZURE_SUBSCRIPTION_ID);\n        // Simpler query for testing\n        const queryParams = {\n            type: \"ActualCost\",\n            timeframe: \"MonthToDate\",\n            dataset: {\n                granularity: \"Daily\",\n                aggregation: {\n                    totalCost: {\n                        name: \"Cost\",\n                        function: \"Sum\"\n                    }\n                }\n            }\n        };\n        const scope = `/subscriptions/${process.env.AZURE_SUBSCRIPTION_ID}`;\n        try {\n            console.log(\"Fetching cost data...\");\n            const result = await client.query.usage(scope, queryParams);\n            console.log(\"Cost data result:\", JSON.stringify(result, null, 2));\n            if (!result.rows || result.rows.length === 0) {\n                console.log(\"No cost data found\");\n                return res.status(200).json({\n                    costs: [],\n                    total: 0,\n                    message: \"No cost data available yet. This could be because:\\n\" + \"• Your subscription is new or free tier\\n\" + \"• No billable resources have been deployed\\n\" + \"• Cost data takes 24-48 hours to appear\\n\" + \"• The current billing period hasn't closed\"\n                });\n            }\n            // Basic data processing with proper date formatting\n            const costs = result.rows.map((row)=>{\n                // Parse YYYYMMDD format from Azure\n                const dateNum = row[1].toString();\n                const year = parseInt(dateNum.slice(0, 4));\n                const month = parseInt(dateNum.slice(4, 6)) - 1 // Months are 0-based\n                ;\n                const day = parseInt(dateNum.slice(6, 8));\n                const date = new Date(year, month, day);\n                return {\n                    cost: parseFloat(row[0] || 0),\n                    date: date.toISOString().split(\"T\")[0],\n                    currency: row[2] || \"USD\"\n                };\n            }).sort((a, b)=>new Date(a.date) - new Date(b.date));\n            const total = costs.reduce((sum, item)=>sum + item.cost, 0);\n            const avgDailyCost = total / costs.length;\n            // Use the actual dates from the cost data\n            const startDate = new Date(costs[0].date);\n            const endDate = new Date(costs[costs.length - 1].date);\n            // Calculate top resources (in this case, by date since we don't have resource info)\n            const topResources = costs.map((cost)=>({\n                    name: new Date(cost.date).toLocaleDateString(),\n                    type: \"Daily Usage\",\n                    cost: cost.cost,\n                    percentage: (cost.cost / total * 100).toFixed(1)\n                })).sort((a, b)=>b.cost - a.cost);\n            return res.status(200).json({\n                daily: {\n                    dates: costs.map((c)=>{\n                        const d = new Date(c.date);\n                        return d.toLocaleDateString(\"en-US\", {\n                            month: \"short\",\n                            day: \"numeric\"\n                        });\n                    }),\n                    costs: costs.map((c)=>c.cost),\n                    average: avgDailyCost\n                },\n                monthly: {\n                    total: total,\n                    trend: 0\n                },\n                forecast: {\n                    total: avgDailyCost * 30,\n                    budget: avgDailyCost * 30 * 1.2\n                },\n                costs,\n                topResources,\n                total: total.toFixed(6),\n                currency: costs[0]?.currency || \"USD\",\n                startDate: startDate.toISOString().split(\"T\")[0],\n                endDate: endDate.toISOString().split(\"T\")[0]\n            });\n        } catch (queryError) {\n            console.error(\"Error querying cost data:\", queryError);\n            return res.status(200).json({\n                costs: [],\n                total: 0,\n                message: `Cost data query failed: ${queryError.message}`,\n                error: queryError.message\n            });\n        }\n    } catch (error) {\n        console.error(\"Error initializing cost client:\", error);\n        return res.status(200).json({\n            costs: [],\n            total: 0,\n            message: \"Unable to access cost data. Please verify Azure permissions.\",\n            error: error.message\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUksQ0FBQztnQkFDMUIwQixPQUFPLEVBQUU7Z0JBQ1RDLE9BQU87Z0JBQ1AxQixTQUFTLENBQUMsd0JBQXdCLEVBQUVpRSxXQUFXakUsT0FBTyxDQUFDLENBQUM7Z0JBQ3hEa0UsT0FBT0QsV0FBV2pFLE9BQU87WUFDM0I7UUFDRjtJQUVGLEVBQUUsT0FBT2tFLE9BQU87UUFDZGxELFFBQVFrRCxLQUFLLENBQUMsbUNBQW1DQTtRQUNqRCxPQUFPdEUsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUMxQjBCLE9BQU8sRUFBRTtZQUNUQyxPQUFPO1lBQ1AxQixTQUFTO1lBQ1RrRSxPQUFPQSxNQUFNbEUsT0FBTztRQUN0QjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9henVyZS1haS1pbmZyYS1hc3Npc3RhbnQvLi9wYWdlcy9hcGkvY29zdHMvYW5hbHlzaXMuanM/NWI2YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEZWZhdWx0QXp1cmVDcmVkZW50aWFsIH0gZnJvbSBcIkBhenVyZS9pZGVudGl0eVwiXHJcbmltcG9ydCB7IENvc3RNYW5hZ2VtZW50Q2xpZW50IH0gZnJvbSBcIkBhenVyZS9hcm0tY29zdG1hbmFnZW1lbnRcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xyXG4gIGlmIChyZXEubWV0aG9kICE9PSAnR0VUJykge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgbWVzc2FnZTogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSlcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBjcmVkZW50aWFsID0gbmV3IERlZmF1bHRBenVyZUNyZWRlbnRpYWwoKVxyXG4gICAgY29uc3QgY2xpZW50ID0gbmV3IENvc3RNYW5hZ2VtZW50Q2xpZW50KGNyZWRlbnRpYWwsIHByb2Nlc3MuZW52LkFaVVJFX1NVQlNDUklQVElPTl9JRClcclxuXHJcbiAgICAvLyBTaW1wbGVyIHF1ZXJ5IGZvciB0ZXN0aW5nXHJcbiAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcclxuICAgICAgdHlwZTogJ0FjdHVhbENvc3QnLFxyXG4gICAgICB0aW1lZnJhbWU6ICdNb250aFRvRGF0ZScsXHJcbiAgICAgIGRhdGFzZXQ6IHtcclxuICAgICAgICBncmFudWxhcml0eTogJ0RhaWx5JyxcclxuICAgICAgICBhZ2dyZWdhdGlvbjoge1xyXG4gICAgICAgICAgdG90YWxDb3N0OiB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdDb3N0JyxcclxuICAgICAgICAgICAgZnVuY3Rpb246ICdTdW0nXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc2NvcGUgPSBgL3N1YnNjcmlwdGlvbnMvJHtwcm9jZXNzLmVudi5BWlVSRV9TVUJTQ1JJUFRJT05fSUR9YFxyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygnRmV0Y2hpbmcgY29zdCBkYXRhLi4uJylcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50LnF1ZXJ5LnVzYWdlKHNjb3BlLCBxdWVyeVBhcmFtcylcclxuICAgICAgY29uc29sZS5sb2coJ0Nvc3QgZGF0YSByZXN1bHQ6JywgSlNPTi5zdHJpbmdpZnkocmVzdWx0LCBudWxsLCAyKSlcclxuXHJcbiAgICAgIGlmICghcmVzdWx0LnJvd3MgfHwgcmVzdWx0LnJvd3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ05vIGNvc3QgZGF0YSBmb3VuZCcpXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgIGNvc3RzOiBbXSxcclxuICAgICAgICAgIHRvdGFsOiAwLFxyXG4gICAgICAgICAgbWVzc2FnZTogXCJObyBjb3N0IGRhdGEgYXZhaWxhYmxlIHlldC4gVGhpcyBjb3VsZCBiZSBiZWNhdXNlOlxcblwiICtcclxuICAgICAgICAgICAgXCLigKIgWW91ciBzdWJzY3JpcHRpb24gaXMgbmV3IG9yIGZyZWUgdGllclxcblwiICtcclxuICAgICAgICAgICAgXCLigKIgTm8gYmlsbGFibGUgcmVzb3VyY2VzIGhhdmUgYmVlbiBkZXBsb3llZFxcblwiICtcclxuICAgICAgICAgICAgXCLigKIgQ29zdCBkYXRhIHRha2VzIDI0LTQ4IGhvdXJzIHRvIGFwcGVhclxcblwiICtcclxuICAgICAgICAgICAgXCLigKIgVGhlIGN1cnJlbnQgYmlsbGluZyBwZXJpb2QgaGFzbid0IGNsb3NlZFwiXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQmFzaWMgZGF0YSBwcm9jZXNzaW5nIHdpdGggcHJvcGVyIGRhdGUgZm9ybWF0dGluZ1xyXG4gICAgICBjb25zdCBjb3N0cyA9IHJlc3VsdC5yb3dzLm1hcChyb3cgPT4ge1xyXG4gICAgICAgIC8vIFBhcnNlIFlZWVlNTUREIGZvcm1hdCBmcm9tIEF6dXJlXHJcbiAgICAgICAgY29uc3QgZGF0ZU51bSA9IHJvd1sxXS50b1N0cmluZygpXHJcbiAgICAgICAgY29uc3QgeWVhciA9IHBhcnNlSW50KGRhdGVOdW0uc2xpY2UoMCwgNCkpXHJcbiAgICAgICAgY29uc3QgbW9udGggPSBwYXJzZUludChkYXRlTnVtLnNsaWNlKDQsIDYpKSAtIDEgLy8gTW9udGhzIGFyZSAwLWJhc2VkXHJcbiAgICAgICAgY29uc3QgZGF5ID0gcGFyc2VJbnQoZGF0ZU51bS5zbGljZSg2LCA4KSlcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoeWVhciwgbW9udGgsIGRheSlcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGNvc3Q6IHBhcnNlRmxvYXQocm93WzBdIHx8IDApLFxyXG4gICAgICAgICAgZGF0ZTogZGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0sXHJcbiAgICAgICAgICBjdXJyZW5jeTogcm93WzJdIHx8ICdVU0QnXHJcbiAgICAgICAgfVxyXG4gICAgICB9KS5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShhLmRhdGUpIC0gbmV3IERhdGUoYi5kYXRlKSlcclxuXHJcbiAgICAgIGNvbnN0IHRvdGFsID0gY29zdHMucmVkdWNlKChzdW0sIGl0ZW0pID0+IHN1bSArIGl0ZW0uY29zdCwgMClcclxuICAgICAgY29uc3QgYXZnRGFpbHlDb3N0ID0gdG90YWwgLyBjb3N0cy5sZW5ndGhcclxuXHJcbiAgICAgIC8vIFVzZSB0aGUgYWN0dWFsIGRhdGVzIGZyb20gdGhlIGNvc3QgZGF0YVxyXG4gICAgICBjb25zdCBzdGFydERhdGUgPSBuZXcgRGF0ZShjb3N0c1swXS5kYXRlKVxyXG4gICAgICBjb25zdCBlbmREYXRlID0gbmV3IERhdGUoY29zdHNbY29zdHMubGVuZ3RoIC0gMV0uZGF0ZSlcclxuXHJcbiAgICAgIC8vIENhbGN1bGF0ZSB0b3AgcmVzb3VyY2VzIChpbiB0aGlzIGNhc2UsIGJ5IGRhdGUgc2luY2Ugd2UgZG9uJ3QgaGF2ZSByZXNvdXJjZSBpbmZvKVxyXG4gICAgICBjb25zdCB0b3BSZXNvdXJjZXMgPSBjb3N0cy5tYXAoY29zdCA9PiAoe1xyXG4gICAgICAgIG5hbWU6IG5ldyBEYXRlKGNvc3QuZGF0ZSkudG9Mb2NhbGVEYXRlU3RyaW5nKCksXHJcbiAgICAgICAgdHlwZTogJ0RhaWx5IFVzYWdlJyxcclxuICAgICAgICBjb3N0OiBjb3N0LmNvc3QsXHJcbiAgICAgICAgcGVyY2VudGFnZTogKChjb3N0LmNvc3QgLyB0b3RhbCkgKiAxMDApLnRvRml4ZWQoMSlcclxuICAgICAgfSkpLnNvcnQoKGEsIGIpID0+IGIuY29zdCAtIGEuY29zdClcclxuXHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgZGFpbHk6IHtcclxuICAgICAgICAgIGRhdGVzOiBjb3N0cy5tYXAoYyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGQgPSBuZXcgRGF0ZShjLmRhdGUpXHJcbiAgICAgICAgICAgIHJldHVybiBkLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tVVMnLCB7IFxyXG4gICAgICAgICAgICAgIG1vbnRoOiAnc2hvcnQnLCBcclxuICAgICAgICAgICAgICBkYXk6ICdudW1lcmljJyxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgY29zdHM6IGNvc3RzLm1hcChjID0+IGMuY29zdCksXHJcbiAgICAgICAgICBhdmVyYWdlOiBhdmdEYWlseUNvc3RcclxuICAgICAgICB9LFxyXG4gICAgICAgIG1vbnRobHk6IHtcclxuICAgICAgICAgIHRvdGFsOiB0b3RhbCxcclxuICAgICAgICAgIHRyZW5kOiAwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBmb3JlY2FzdDoge1xyXG4gICAgICAgICAgdG90YWw6IGF2Z0RhaWx5Q29zdCAqIDMwLFxyXG4gICAgICAgICAgYnVkZ2V0OiBhdmdEYWlseUNvc3QgKiAzMCAqIDEuMlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29zdHMsXHJcbiAgICAgICAgdG9wUmVzb3VyY2VzLFxyXG4gICAgICAgIHRvdGFsOiB0b3RhbC50b0ZpeGVkKDYpLFxyXG4gICAgICAgIGN1cnJlbmN5OiBjb3N0c1swXT8uY3VycmVuY3kgfHwgJ1VTRCcsXHJcbiAgICAgICAgc3RhcnREYXRlOiBzdGFydERhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLFxyXG4gICAgICAgIGVuZERhdGU6IGVuZERhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdXHJcbiAgICAgIH0pXHJcblxyXG4gICAgfSBjYXRjaCAocXVlcnlFcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBxdWVyeWluZyBjb3N0IGRhdGE6JywgcXVlcnlFcnJvcilcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBjb3N0czogW10sXHJcbiAgICAgICAgdG90YWw6IDAsXHJcbiAgICAgICAgbWVzc2FnZTogYENvc3QgZGF0YSBxdWVyeSBmYWlsZWQ6ICR7cXVlcnlFcnJvci5tZXNzYWdlfWAsXHJcbiAgICAgICAgZXJyb3I6IHF1ZXJ5RXJyb3IubWVzc2FnZVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW5pdGlhbGl6aW5nIGNvc3QgY2xpZW50OicsIGVycm9yKVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgY29zdHM6IFtdLFxyXG4gICAgICB0b3RhbDogMCxcclxuICAgICAgbWVzc2FnZTogXCJVbmFibGUgdG8gYWNjZXNzIGNvc3QgZGF0YS4gUGxlYXNlIHZlcmlmeSBBenVyZSBwZXJtaXNzaW9ucy5cIixcclxuICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2VcclxuICAgIH0pXHJcbiAgfVxyXG59ICJdLCJuYW1lcyI6WyJEZWZhdWx0QXp1cmVDcmVkZW50aWFsIiwiQ29zdE1hbmFnZW1lbnRDbGllbnQiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJjcmVkZW50aWFsIiwiY2xpZW50IiwicHJvY2VzcyIsImVudiIsIkFaVVJFX1NVQlNDUklQVElPTl9JRCIsInF1ZXJ5UGFyYW1zIiwidHlwZSIsInRpbWVmcmFtZSIsImRhdGFzZXQiLCJncmFudWxhcml0eSIsImFnZ3JlZ2F0aW9uIiwidG90YWxDb3N0IiwibmFtZSIsImZ1bmN0aW9uIiwic2NvcGUiLCJjb25zb2xlIiwibG9nIiwicmVzdWx0IiwicXVlcnkiLCJ1c2FnZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJyb3dzIiwibGVuZ3RoIiwiY29zdHMiLCJ0b3RhbCIsIm1hcCIsInJvdyIsImRhdGVOdW0iLCJ0b1N0cmluZyIsInllYXIiLCJwYXJzZUludCIsInNsaWNlIiwibW9udGgiLCJkYXkiLCJkYXRlIiwiRGF0ZSIsImNvc3QiLCJwYXJzZUZsb2F0IiwidG9JU09TdHJpbmciLCJzcGxpdCIsImN1cnJlbmN5Iiwic29ydCIsImEiLCJiIiwicmVkdWNlIiwic3VtIiwiaXRlbSIsImF2Z0RhaWx5Q29zdCIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJ0b3BSZXNvdXJjZXMiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJwZXJjZW50YWdlIiwidG9GaXhlZCIsImRhaWx5IiwiZGF0ZXMiLCJjIiwiZCIsImF2ZXJhZ2UiLCJtb250aGx5IiwidHJlbmQiLCJmb3JlY2FzdCIsImJ1ZGdldCIsInF1ZXJ5RXJyb3IiLCJlcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/costs/analysis.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcosts%2Fanalysis&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Ccosts%5Canalysis.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();